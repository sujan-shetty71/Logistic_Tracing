<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>My First dApp</title>
        <style>
            body{
                text-align: center;
                font-family: Arial, Helvetica, sans-serif;
                background-color: grey;

            }
            div {
                width: 20%;
                margin: 30px auto 25px auto;
                /* display: flex;
                flex-direction: column; */
               
            }
            .seller{
                background-color: lightgoldenrodyellow;
                border-style: solid;
                border-color: black;
                
                
            }
            .buyer{
                background-color: lightgoldenrodyellow;
                border-style: solid;
                border-color: black;
            
            }

            .Freightforward{
                background-color: lightgoldenrodyellow;
                border-style: solid;
                border-color: black;
               
            }
            .PortClearence{
                background-color: lightgoldenrodyellow;
                border-style: solid;
                border-color: black;
            
            }
            h1{
                width: 20%;
                margin: 30px auto 25px auto;
                border: 5px;
                color: light black;
                background-color: lightsteelblue;
                border-style: solid;
                border-color: black;
                
            }
            h2{
                width: 60%;
                margin: 20px auto 30px auto;
                border: 2px;
                color: brown;
                background-color: yellowgreen;
                border-style: solid;
                border-color: black;
            }
            button {
                align-items: center;
                width: 50%;
                font-weight: bold;
                align-items :center;
                margin: 5px auto 5px auto;
                border: 2px;
                border-style: solid;
                border-color: black;
                background-color: darkcyan;

            }
            input[type=text] {
                    width: 70%;
                    margin: 5px auto 5px auto;
                    border: 3px;
                    border-style: solid;
                    border-color: black;
                   
            }
            ::placeholder {
              text-align: center;
              /* font-weight: bold; */
              color: black;

            }
            button:hover {background-color: rgb(82, 76, 76)}
        </style>
    </head>
    <body>
        <h1>Logistics Tracing </h1>
        <div class="seller">
            <h2>Seller</h2>
        
            <input type="text" id="str1" placeholder="enter product name"/>
            <input type="text" id="p" placeholder="enter price "/>
            <input type="text" id="str2" placeholder="enter product description"/>
            <button onclick="addProduct()">Add Products</button> <br/>
            <input type="text" id="addr" placeholder="enter logistic address"/>
            <button onclick="set_logistic()">Set Logistic</button> <br/>
            <input type="text" id="view" placeholder="enter product id"/>
            <button onclick="view_products()">View products</button> <br/>
            <input type="text" id="view1" placeholder="enter product id"/>
            <button onclick="view_orders()">View order</button> <br/>
            <input type="text" id="approve_o" placeholder="enter product oid"/>
            <button onclick="approve_orders()">approve order</button> <br/>
            <input type="text" id="buyer_d" placeholder="enter product oid"/>
            <button onclick="buyer_details()">Buyer Details</button> <br/>
       </div>
        <div class="buyer">
            <h2>Buyer</h2>
            <input type="text" id="seller_a" placeholder="enter seller address"/>
            <button onclick="s_a()">Set Seller</button> <br/>

            <input type="text" id="logistic_a" placeholder="enter seller address"/>
            <button onclick="l_a()">Set Logistic</button> <br/>
            
            <input type="text" id="available_p" placeholder="enter PID to check product availability"/>
            <button onclick="a_v()">Avalable Product</button> <br/>

            <input type="text" id="track" placeholder="enter OID to track orders"/>
            <button onclick="track1()">Track order</button> <br/>

            <input type="text" id="pid" placeholder="enter product id"/>
            <input type="text" id="name" placeholder="enter your name "/>
            <input type="text" id="phno" placeholder="enter your phone number"/>
            <input type="text" id="email" placeholder="enter your email"/>
            <input type="text" id="location" placeholder="enter your location"/>
            <input type="text" id="ff_address" placeholder="enter your ff address to initiate delivary"/>
            <input type="text" id="amount" placeholder="enter your amount"/>
            <button onclick="P_Product()">Purchase Products</button> <br/>
            
    
            <input type="text" id="oid" placeholder="Enter oid"/>
            <input type="text" id="ffAmt" placeholder="Enter Amount"/>
            <button onclick="bookFreight()">Book Freighter</button> <br/>

            <input type="text" id="oid1" placeholder="Enter oid"/>
            <button onclick="o_r()">Order Recived</button> <br/>


        </div>

        <div class="Freightforward">
            <h2>Freightforward</h2>

            <input type="text" id="seller_b" placeholder="enter seller address"/>
            <button onclick="s_b()">Set Seller</button> <br/>

            <input type="text" id="buyer_b" placeholder="enter seller address"/>
            <button onclick="set_buyer()">Set Buyer</button> <br/>

            <input type="text" id="cl_a" placeholder="enter clearence address"/>
            <button onclick="s_c()">Set clearence</button> <br/>

            <input type="text" id="o_r1" placeholder="enter order id"/>
            <button onclick="order_r()">Order Recived from seller</button> <br/>
            
            <input type="text" id="s_p" placeholder="enter order id"/>
            <button onclick="send_port()">Send to Port</button> <br/>

            <input type="text" id="b_d" placeholder="enter order id"/>
            <button onclick="buyer_d()"> Buyer Details</button> <br/>

            <input type="text" id="f_b" placeholder="enter order id"/>
            <button onclick="ff_b()"> FF Booked</button> <br/>

            <input type="text" id="tr_or" placeholder="enter order id"/>
            <button onclick="tr_order()"> Track Order</button> </br>

            <input type="text" id="o_r_b" placeholder="enter order id"/>
            <button onclick="or_re_buy()"> Order delivered</button> </br>

        </div>
        <div class="PortClearence">
            <h2>PortClearence</h2>

            <input type="text" id ="cfAddr" placeholder="Enter clearence contract address">
            <button onclick="chooseClearence()">choose logistic</button></br>

            <input type="text" id="e_c" placeholder="enter oid for export clearence"/>
            <button onclick="ex_cl()">Export clearence</button> </br>

            <input type="text" id="i_c" placeholder="enter oid for import clearence"/>
            <button onclick="im_cl()">Import clearence</button> </br>

        </div>
    </body>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.1/ethers.umd.js"
        type="application/javascript"
    ></script>
 
    <script>
 
 
        let SellerContract;
        let BuyerContract;
        let ForwarderContract;
        let clearenceContract;
        let signer;
        let provider;
        let accounts;
 
        let SellerContractABI;
        let SellerContractAddress;
 
        let BuyerContractABI;
        let BuyerContractAddress;
 
        let ForwarderContractABI;
        let ForwarderContractAddress;
 
        let clearenceContractABI;
        let clearenceContractAddress;
 
 
        // doInit();
 
 
 
         // ---------  SELLLER CONTRCT ---------
 
         async function addProduct() {
          let pname = document.getElementById("str1").value;
          let pd = document.getElementById("str2").value;
          const price = document.getElementById("p").value; 
          console.log(await SellerContract.addProduct(pname,price,pd));
        }

        async function set_logistic() {
          var adr = document.getElementById("addr").value;
          console.log(await SellerContract.set_logistic(adr));

        }

        async function view_products() {
          var oid = document.getElementById("view").value;
          const t=await SellerContract.viewProduct(oid);
          console.log(t);
          alert("product availability are as follows- available,name,price,description,seller address "+" "+t);
        }

        async function view_orders() {
          var oid1 = document.getElementById("view1").value;
          let t1= await SellerContract.orderdetails(oid1);
          console.log(t1.toString());    

        }

        async function approve_orders() {
          var a_o = document.getElementById("approve_o").value;
          console.log(await SellerContract.approve_delivary(a_o));
          alert("order is packed and initiated delivary");
        }
        
        async function buyer_details() {
          var b_d = document.getElementById("buyer_d").value;
          const a = await SellerContract.buyerdetails(b_d);
          console.log(a.toString());
          alert(a.toString());
        }
 
    //---------- BUYER CONTRACT -----------
         async function P_Product() {
                let id = document.getElementById("pid").value;
                let u_name = document.getElementById("name").value;
                const phno = document.getElementById("phno").value;
                const email = document.getElementById("email").value;
                const location = document.getElementById("location").value;
                const ff_address = document.getElementById("ff_address").value; 
                let am= document.getElementById("amount").value;
                console.log(await BuyerContract.purchase(id,u_name,phno,email,location,ff_address,{value: am}));
                alert("order recieved by seller. please book frieght !!");
              }

        async function s_a() {
          var sel_add = document.getElementById("seller_a").value;
          console.log(await BuyerContract.setSeller(sel_add));
        }
        async function l_a() {
          var log_add = document.getElementById("logistic_a").value;
          console.log(await BuyerContract.setlogistic(log_add));
        }
        async function a_v() {
          var a_p = document.getElementById("available_p").value;
          var t1=await BuyerContract.avalable_product(a_p);
          console.log(t1);
          alert("product availability are as follows- available,name,price,description,seller address "+" "+(Object.values(t1)));

        }

        async function bookFreight() {
            const oid = document.getElementById("oid").value;
            const amt = document.getElementById("ffAmt").value;
           // let bigAmount = ethers.BigNumber.from(amt);
            console.log( await BuyerContract.send_d_fees(oid,{value: amt}));
            alert(" Congrats !! Frieght Booked!");    
        }

        async function track1() {
          const t1 = document.getElementById("track").value;
          let v = await BuyerContract.tracking(t1);
          console.log(v);
        }

        async function o_r() {
          const t2 = document.getElementById("oid1").value;
          console.log(await BuyerContract.order_recived(t2));
          alert("Hope you enjoyed our service ! Thanks again !!")
        }
 
    // ------------ Frieght Forwarder ------------------
          
    async function s_b() {
          var sel_add1 = document.getElementById("seller_b").value;
          console.log(await ForwarderContract.set_seller(sel_add1));
        }

        async function set_buyer() {
          var sel_add2 = document.getElementById("buyer_b").value;
          console.log(await ForwarderContract.set_buyer(sel_add2));
        }

        async function s_c() {
          var s_c1 = document.getElementById("cl_a").value;
          console.log(await ForwarderContract.set_clearence(s_c1));
        }

        async function order_r() {
          var o_r1 = document.getElementById("o_r1").value;
          console.log(await ForwarderContract.order_rec(o_r1));
          alert("order recieved from seller");
        }

        async function send_port() {
          var s_p1 = document.getElementById("s_p").value;
          console.log(await ForwarderContract.send_to_port(s_p1));
          alert("requested for export clearence!! wait for some time");
        }

        async function buyer_d() {
          var s_p2 = document.getElementById("b_d").value;
          const a1=await ForwarderContract.buyer_details(s_p2);
          console.log(a1.toString());
          alert(a1.toString());
        }

        async function ff_b() {
          var s_p3 = document.getElementById("f_b").value;
          console.log(await ForwarderContract.ff_booked(s_p3));
        }

        async function tr_order() {
          var s_p4 = document.getElementById("tr_or").value;
          let t5= await ForwarderContract.tracking(s_p4);
          console.log(t5);
        }

        async function or_re_buy(){
            var ss1=document.getElementById("o_r_b").value;
            var t6= await ForwarderContract.order_recv_buyer(ss1);
            console.log(t6);
            alert("Order Delivered"+Boolean(t6));
          


        }
   
        
   // ------------ Port Clearence ------------------
   async function chooseClearence() {
          var s_c1 = document.getElementById("cfAddr").value;
          console.log(await clearenceContract.set_logistic(s_c1));
        }

        async function ex_cl() {
          var s_c1 = document.getElementById("e_c").value;
          console.log(await clearenceContract.e_clearence(s_c1));
          alert("export clearence is done !!");
        }

        async function im_cl() {
          var s_c2 = document.getElementById("i_c").value;
          console.log(await clearenceContract.i_clearence(s_c2));
          alert("import clearence is done !!");
        }
   
      
 
        async function doInitMetamask() {
            SellerContractAddress = "0x851088E1c914A1Efb8305fC49bFb3895D6583Aa9";
            BuyerContractAddress = "0x28591Cc55B80779562472F4fCd6422561041F8Ad";
            ForwarderContractAddress = "0x04751Bd6818cb3ebE13be9eBcD4e42419C848d57";
            clearenceContractAddress = "0x162f140491cb5fcd8bf986Ff68192eB98A3C47EE";
 
 
   SellerContractABI = [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_ad",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "stateMutability": "payable",
      "type": "fallback",
      "payable": true
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "orders",
      "outputs": [
        {
          "internalType": "bool",
          "name": "sold",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "pid",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "id",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "uint40",
          "name": "phno",
          "type": "uint40"
        },
        {
          "internalType": "string",
          "name": "email",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "location",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "logi",
          "type": "address"
        },
        {
          "internalType": "bool",
          "name": "send_to_ff",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [],
      "name": "productcount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "products",
      "outputs": [
        {
          "internalType": "bool",
          "name": "available",
          "type": "bool"
        },
        {
          "internalType": "address",
          "name": "pid",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "_desc",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "productcount",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "stateMutability": "payable",
      "type": "receive",
      "payable": true
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "ad",
          "type": "address"
        }
      ],
      "name": "set_logistic",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "product_name",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "_desc",
          "type": "string"
        }
      ],
      "name": "addProduct",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        }
      ],
      "name": "viewProduct",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        },
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "pid",
          "type": "uint256"
        }
      ],
      "name": "getp",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "pid",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "_buyer",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "uint40",
          "name": "ph",
          "type": "uint40"
        },
        {
          "internalType": "string",
          "name": "_email",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "_location",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "logi",
          "type": "address"
        }
      ],
      "name": "purchase",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function",
      "payable": true
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "pid",
          "type": "uint256"
        }
      ],
      "name": "orderdetails",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "pid",
          "type": "uint256"
        }
      ],
      "name": "buyerdetails",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "uint40",
          "name": "",
          "type": "uint40"
        },
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "oid",
          "type": "uint256"
        }
      ],
      "name": "logistic_details",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "oid",
          "type": "uint256"
        }
      ],
      "name": "approve_delivary",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "oid",
          "type": "uint256"
        }
      ],
      "name": "a_d",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    }
  ]
 
  BuyerContractABI = [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_seller",
          "type": "address"
        }
      ],
      "name": "setSeller",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_logistic",
          "type": "address"
        }
      ],
      "name": "setlogistic",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        }
      ],
      "name": "avalable_product",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        },
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "pid",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "uint40",
          "name": "ph",
          "type": "uint40"
        },
        {
          "internalType": "string",
          "name": "_mail",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "_location",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "f_f",
          "type": "address"
        }
      ],
      "name": "purchase",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function",
      "payable": true
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "oid",
          "type": "uint256"
        }
      ],
      "name": "send_d_fees",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function",
      "payable": true
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "pid",
          "type": "uint256"
        }
      ],
      "name": "orderdetails",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "pid",
          "type": "uint256"
        }
      ],
      "name": "tracking",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "pid",
          "type": "uint256"
        }
      ],
      "name": "order_recived",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "pid",
          "type": "uint256"
        }
      ],
      "name": "order_recived1",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    }
  ]
 
 
        ForwarderContractABI = [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "ad",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "stateMutability": "payable",
      "type": "fallback",
      "payable": true
    },
    {
      "inputs": [],
      "name": "d_fees",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "stateMutability": "payable",
      "type": "receive",
      "payable": true
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "ad",
          "type": "address"
        }
      ],
      "name": "set_seller",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "ad",
          "type": "address"
        }
      ],
      "name": "set_clearence",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "ad",
          "type": "address"
        }
      ],
      "name": "set_buyer",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "oid",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "buy",
          "type": "address"
        }
      ],
      "name": "Freightforward",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function",
      "payable": true
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "oid",
          "type": "uint256"
        }
      ],
      "name": "ff_booked",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "oid",
          "type": "uint256"
        }
      ],
      "name": "order_rec",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "oid",
          "type": "uint256"
        }
      ],
      "name": "o_c",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "oid",
          "type": "uint256"
        }
      ],
      "name": "buyer_details",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "uint40",
          "name": "",
          "type": "uint40"
        },
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "oid",
          "type": "uint256"
        }
      ],
      "name": "send_to_port",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "oid",
          "type": "uint256"
        }
      ],
      "name": "s_t_p",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "oid",
          "type": "uint256"
        }
      ],
      "name": "tracking",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "oid",
          "type": "uint256"
        }
      ],
      "name": "order_recv_buyer",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    }
  ]
 
        clearenceContractABI = [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_ExportClearanceAuthority",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_importClearanceAuthority",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "ex",
      "outputs": [
        {
          "internalType": "bool",
          "name": "e_c",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "oid",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "im",
      "outputs": [
        {
          "internalType": "bool",
          "name": "i_c",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "oid",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "ad",
          "type": "address"
        }
      ],
      "name": "set_logistic",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "oid",
          "type": "uint256"
        }
      ],
      "name": "e_clearence",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "oid",
          "type": "uint256"
        }
      ],
      "name": "e_c",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "oid",
          "type": "uint256"
        }
      ],
      "name": "i_clearence",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "oid",
          "type": "uint256"
        }
      ],
      "name": "i_c",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function",
      "constant": true
    }
  ]
 
 
            provider = new ethers.providers.Web3Provider(web3.currentProvider);
 
            // try {
            //     await provider.send("eth_requestAccounts", []);
            // } catch {
            //     console.log("Connection error");
            // }
 
            accounts = await provider.listAccounts();
            console.log(accounts);
 
            signer = await provider.getSigner(accounts[0]);
            console.log(signer);
 
            console.log(SellerContractAddress);
            console.log(SellerContractABI);
 
 
            console.log(BuyerContractAddress);
            console.log(BuyerContractABI);
 
            console.log(ForwarderContractAddress);
            console.log(ForwarderContractABI);
 
            console.log(clearenceContractAddress);
            console.log(clearenceContractABI);
 
            SellerContract = new ethers.Contract( SellerContractAddress, SellerContractABI, signer);
            BuyerContract = new ethers.Contract( BuyerContractAddress, BuyerContractABI, signer);
            ForwarderContract = new ethers.Contract( ForwarderContractAddress, ForwarderContractABI, signer);
            clearenceContract = new ethers.Contract( clearenceContractAddress, clearenceContractABI, signer);
        }
        doInitMetamask();
    </script>
</html>